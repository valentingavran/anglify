@use 'details';
@use 'filled';
@use 'outlined';
@use 'sass:math';
@use 'variables' as *;

:host {
  display: grid;
  width: 100%;
  grid-template-areas:
    'outer-prepend form-field-container  outer-append'
    '. details .';
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto 1fr;
  overflow-x: hidden;

  &:not(.hide-details) {
    row-gap: 4px;
  }

  .outer-prepend:not(:empty) {
    display: flex;
    align-items: center;
    grid-area: outer-prepend;
    margin-inline-end: 14px;
  }

  .outer-append:not(:empty) {
    display: flex;
    align-items: center;
    grid-area: outer-append;
    margin-inline-start: 14px;
  }

  .form-field-container {
    position: relative;
    display: grid;
    max-width: 100%;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    grid-area: form-field-container;
    grid-template-areas: 'prepend content append';
    grid-template-columns: auto 1fr auto;

    label {
      display: grid;
      align-items: center;
      grid-area: content;

      ::ng-deep {
        input,
        textarea {
          width: 100%;
          min-width: 0;
          max-width: 100%;
          box-sizing: border-box;
          border-style: none;
          background-color: transparent;
          font-size: $form-field-font-size;
          grid-column: 1 / -1;
          grid-row: 1;
          line-height: $form-field-line-height;
          outline: none;
          resize: vertical;

          &::placeholder {
            color: transparent;
            transition: color $transition-duration $form-field-transition-timing-function;
            user-select: none;
          }
        }
      }

      .label {
        grid-column: 1;
        grid-row: 1;
      }
    }

    .prepend:not(:empty) {
      cursor: default;
      grid-area: prepend;
      user-select: none;

      ::ng-deep {
        > * {
          padding-inline-end: 4px;
        }
      }
    }

    .append:not(:empty) {
      cursor: default;
      grid-area: append;
      user-select: none;

      ::ng-deep {
        > * {
          padding-inline-start: 4px;
        }
      }
    }
  }
}
